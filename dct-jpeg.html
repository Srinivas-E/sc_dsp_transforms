
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>module_dct_jpeg &mdash; DSP transformations v0v1 documentation</title>
    <link rel="stylesheet" href="_static/xdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0v1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://mathjax.connectmv.com/MathJax.js"></script>
    <script type="text/javascript" src="_static/xcomment.js"></script>
    <link rel="top" title="DSP transformations v0v1 documentation" href="index.html" />
    <link rel="next" title="module_huffman_jpeg" href="huffman-jpeg.html" />
    <link rel="prev" title="module_fft" href="fft.html" /> 

<script>
function setheight() {
h1 = document.getElementById('d1').style.height;
h2 = document.getElementById('d2').style.height;

if (parseInt(h1) > parseInt(h2)) {
document.getElementById('d2').style.height=h1 + "px";
}
else {
document.getElementById('d1').style.height=h2 + "px";
}

}
</script>
</head>

<body onload="setheight();">

  

    <div class="document" id='d1'>
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
<div style="float: right">
<a href="fft.html"
                        title="previous chapter"> &lt&lt </a>
<a href="huffman-jpeg.html"
                        title="next chapter"> &gt&gt </a></p>
</div>

            
  <div class="section" id="module-dct-jpeg">
<h1>module_dct_jpeg<a class="headerlink" href="#module-dct-jpeg" title="Permalink to this headline">¶</a></h1>
<p>The DCT module comprises a heavily optimised DCT function that needs to run
in a thread of its own (since it uses all registers of the processor). The
DCT function operates in place on 8x8 blocks of 2D data. A block of data is
to be stored in memory, the address is to be passed to the function, and on
completion the pointer is returned. Between outputting the address, and
getting it back, the buffer is owned by the DCT-thread, and shall not be
used by any other thread. A common scheme would use a triple buffering
scheme, where one buffer is filled with new data, whilst a second buffer is
transformed by the DCT thread, whilst the third buffer is compressed using
the huffman module.</p>
<div class="section" id="api">
<h2>API<a class="headerlink" href="#api" title="Permalink to this headline">¶</a></h2>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">doxygenfunction: Cannot find function &#8220;forwardDCT&#8221; in doxygen xml output</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">doxygenfunction: Cannot find function &#8220;doDCT&#8221; in doxygen xml output</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">doxygenfunction: Cannot find function &#8220;endDCT&#8221; in doxygen xml output</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">doxygenfunction: Cannot find function &#8220;quantDCT&#8221; in doxygen xml output</p>
</div>
</div>
<div class="section" id="example-program">
<h2>Example program<a class="headerlink" href="#example-program" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>provideBlocks(streaming chanend toDCT) {</dt>
<dd><dl class="first docutils">
<dt>for(int i = 0; i &lt; 256; i++) {</dt>
<dd><dl class="first last docutils">
<dt>doDCT(block1); // This needs to be split</dt>
<dd>// And needs a better example</dd>
</dl>
</dd>
</dl>
<p class="last">}</p>
</dd>
</dl>
<p>}</p>
<dl class="docutils">
<dt>docompress(in quant[]) {</dt>
<dd><p class="first">int quant2[65];
quantDCT(quant2, quant);</p>
<dl class="docutils">
<dt>par {</dt>
<dd>forwardDCT(toDCT, quant2);
provideBlocks(toDCT, toHuffman);</dd>
</dl>
<p class="last">}</p>
</dd>
</dl>
<p>}</p>
</div>
</div>



          </div>
        </div>
      </div>
      <div class="sphinxsidebar" id='d2'>
        <div class="sphinxsidebarwrapper">
<h3><a href="index.html">DSP transformations (0v1)</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="fft.html">module_fft</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">module_dct_jpeg</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#api">API</a></li>
<li class="toctree-l2"><a class="reference internal" href="#example-program">Example program</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="huffman-jpeg.html">module_huffman_jpeg</a></li>
</ul>

<div id="searchbox" style="display: none;margin-bottom: 10px;">
  <h3>Search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>



    <div class="footer">
    </div>
  </body>
</html>



